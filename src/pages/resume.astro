---
import MainLayout from '$/layouts/Main.astro'

import Footer from '$/components/Footer.astro'

import '$/styles/blog.css'

const response = await fetch(
	'https://api.github.com/gists/af71bf672a196bdda6d68cd19ee856ef',
	{
		headers: {
    'Accept': 'application/vnd.github+json'
  }
	}
)
const data = await response.json()
const resumeJSON = data.files['resume.json'].content
const resume = JSON.parse(resumeJSON)

---
<MainLayout>

		<div class="px-8">

			<div class="m-auto max-w-5xl">
				<article class="content">
					<!-- <div> -->
						<header class="mt-10 mb-12 lg:mt-12 lg:mb-14">
							<h1 class="mb-6 font-display leading-snug font-bold text-4xl lg:text-7xl text-zinc-800 dark:text-zinc-100">
								Zane Taylor
							</h1>
							<h2 class="mb-12 lg:text-3xl">{resume.basics.label}</h2>
							<p class="lead text-2xl text-zinc-800 dark:text-zinc-400">
								{resume.basics.summary}
							</p>
							{resume.basics.location.city}, {resume.basics.location.region}
							{resume.basics.profiles}
						</header>
						<main class="text-lg lg:text-xl text-zinc-700 dark:text-zinc-400">

							<h2 class="text-4xl font-bold text-[#7C4EFF] mb-10">Experience</h2>

							{resume.work.map((p) => (
								<div class="mb-12">
									<h3 class="text-3xl text-cyan-500 font-bold mb-2">{p.position} <span class="float-right font-normal text-xl">{p.startDate} - {p.endDate ? p.endDate : 'Now'}</span></h3>
									<h4 class="text-2xl mb-3">{p.name} <span class="float-right font-normal">{p.location}</span></h4>
									<p set:html={p.summary.replace(/(\r\n|\r|\n)/g, '<br>')}></p>
									<ul>{p.highlights}</ul>
								</div>
							))}

							<h2>Education</h2>

							{resume.education.map((p) => (
								<div>
									<h3>{p.institution}</h3>
									{p.area}
									{p.startDate}
									{p.endDate}
									{p.summary}
									{p.highlights}
								</div>
							))}

							<h2>Volunteering</h2>

							{resume.volunteer.map((p) => (
								<div>
									<h3>{p.organization}</h3>
									{p.position}
									{p.startDate}
									{p.endDate}
								</div>
							))}

						</main>
					<!-- </div> -->
				</article>
			</div>

		</div>

		<Footer/>

</MainLayout>

<style>
	h1 {
		color: #7C4EFF;
		background: -webkit-linear-gradient(45deg, #7C4EFF, #A21CAF);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
	}
</style>